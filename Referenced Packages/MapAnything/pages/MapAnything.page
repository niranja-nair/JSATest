<apex:page sidebar="false" controller="sma.MapAnything" title="MapAnything" action="{!StartUpAction}">

    <apex:includeScript value="{!URLFOR($Resource.sma__MapAnything, 'js/jquery-1.7.1.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.sma__MapAnything, 'jstree/_lib/jquery.cookie.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.sma__MapAnything, 'jstree/_lib/jquery.hotkeys.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.sma__MapAnything, 'jstree/jquery.jstree2.js')}"/>

    
    <apex:includeScript value="{!URLFOR($Resource.sma__MapAnything, 'jscolor/jscolor.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.sma__MapAnything, 'notify/jquery.notify.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.sma__MapAnything, 'jquery/jquery-ui.min.js')}"/>
    
    <apex:includeScript value="{!URLFOR($Resource.sma__MapAnything, 'js/jquery.event.drag-2.2.js')}"/>
    
    <script type="text/javascript" charset="UTF-8" src="https://api.maps.nlp.nokia.com/2.2.3/jsl.js?with=all"></script>
    
    <apex:includeScript value="../../soap/ajax/18.0/connection.js"/>
    <apex:includeScript value="/soap/ajax/18.0/apex.js"/>
    <apex:includeScript value="/static/013008/js/functions.js"/>
    
    <apex:stylesheet value="{!URLFOR($Resource.sma__MapAnything, 'notify/ui.notify.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.sma__MapAnything, 'jquery/jquery-ui.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.sma__MapAnything, 'css/style.css')}"/>

    <apex:stylesheet value="{!URLFOR($Resource.sma__MapAnything, 'style.css')}"/>
    
    <!-- Colorbox (overlay) -->
    <script type="text/javascript" src="{!URLFOR($Resource.MapAnything, 'colorbox/jquery.colorbox-min.js')}"></script>
    <link type="text/css" rel="stylesheet" href="{!URLFOR($Resource.MapAnything, 'colorbox/css4/colorbox.css')}" />
    
    <!-- Date JS--> 
    <script src="{!URLFOR($Resource.QueryEditor, 'js/date.js')}" type="text/javascript"></script>
    
    <!-- Moment (date parsing) -->
    <script src="{!URLFOR($Resource.MapAnything, 'js/moment.js')}" type="text/javascript"></script>
    
    <!-- Combobox -->
    <script src="{!URLFOR($Resource.QueryEditor, 'js/combobox/jquery.combobox.js')}" type="text/javascript"></script>

    <apex:includeScript value="{!URLFOR($Resource.sma__MapAnything, 'js/jquery.bxSlider.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.sma__MapAnything, 'js/jquery.hotkeys.js')}"/>

    <!-- CSS -->
    <c:CSSMapAnything />
    <c:CSSEditQuery />
    <c:CSSHelperBlue />
    <style type='text/css'>
        /* Plotted Queries */
        #PlottedQueriesContainer .PlottedRowUnit {
            display: block;
            position: relative;
            width: 275px;
            margin: 0 0 6px 0;
            padding: 0;
            text-align: left;
            font-size: 11px;
            background: #eee;
            border: 1px solid #ddd;
            border-radius: 2px;
            box-shadow: none;
        }
        #PlottedQueriesContainer .PlottedRowUnit div {
            margin: 0;
            padding: 0;
        }
        #PlottedQueriesContainer .PlottedRowUnit .header {
            float: none;
            width: auto;
            padding: 5px 5px 5px 25px;
        }
        
        #PlottedQueriesContainer .PlottedRowUnit .basicinfo-name {
            font-weight: bold;
            margin-bottom: 4px;
        }
        #PlottedQueriesContainer .PlottedRowUnit .basicinfo-baseobjectname {
            color: gray;
        }
        
        #PlottedQueriesContainer .PlottedRowUnit .plottinginfo-wrapper {
            padding: 5px;
        }
        #PlottedQueriesContainer .PlottedRowUnit .plottinginfo-wrapper .link.geocode {
            font-size: 10px;
        }
        
        #PlottedQueriesContainer .PlottedRowUnit .renderButtons {
            position: absolute;
            top: 2px;
            right: 2px;
            height: 20px;
            padding: 0;
            font-size: 0px;
        }
        #PlottedQueriesContainer .PlottedRowUnit .renderButtons-button {
            display: none;
            width: 28px;
            height: 27px;
            cursor: pointer;
            border: none;
            padding: 0;
            background: transparent url("{!URLFOR($Resource.MapAnything, '/images/renderbuttons.png')}") no-repeat;
        }
        #PlottedQueriesContainer .PlottedRowUnit:hover .renderButtons-button, #PlottedQueriesContainer .PlottedRowUnit .renderButtons-button.on {
            display: inline-block;
        }
        #PlottedQueriesContainer .PlottedRowUnit .renderButtons-button.heatmap { background-position: -85px -11px; }
        #PlottedQueriesContainer .PlottedRowUnit .renderButtons-button.markers { background-position: -12px -11px; }
        #PlottedQueriesContainer .PlottedRowUnit .renderButtons-button.cluster { background-position: -49px -11px; }
        #PlottedQueriesContainer .PlottedRowUnit .renderButtons-button.heatmap.on { background-position: -85px -51px; }
        #PlottedQueriesContainer .PlottedRowUnit .renderButtons-button.markers.on { background-position: -12px -51px; }
        #PlottedQueriesContainer .PlottedRowUnit .renderButtons-button.cluster.on { background-position: -49px -51px; }
        #PlottedQueriesContainer .PlottedRowUnit .renderButtons-spacer {
            display: inline-block;
            width: 8px;
        }
        
        #PlottedQueriesContainer .PlottedRowUnit .btn-remove {
            display: block;
            position: absolute;
            top: 10px;
            left: 0;
            width: 16px;
            height: 16px;
            background: transparent url("{!URLFOR($Resource.MapAnything, '/images/close-button-x.png')}") center no-repeat;
        }
        #PlottedQueriesContainer .PlottedRowUnit.loading .btn-remove {
            background: transparent url("{!URLFOR($Resource.MapAnything, 'ajax-loader.gif')}") center no-repeat;
        }
        #PlottedQueriesContainer .PlottedRowUnit.unloading .btn-remove {
            background: transparent url("{!URLFOR($Resource.MapAnything, 'ajax-unloader.gif')}") center no-repeat;
        }
        
        #PlottedQueriesContainer .PlottedRowUnit .loadMask {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 99;
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
            background-color: #ffffff;
            opacity: 0.4;
            -ms-filter: progid:DXImageTransform.Microsoft.Alpha(Opacity = 40);
            filter: alpha(opacity = 40);
        }
        #PlottedQueriesContainer .PlottedRowUnit.loading .loadMask, #PlottedQueriesContainer .PlottedRowUnit.unloading .loadMask {
            display: block;
        }
        
        #PlottedQueriesContainer .PlottedRowUnit .legend {
            width: 100%;
            font-weight: 10px;
        }
        #PlottedQueriesContainer .PlottedRowUnit .legend .legend-row td {
            text-align: left;
            padding: 3px;
        }
        #PlottedQueriesContainer .PlottedRowUnit .legend .legend-row td.legend-color {
            text-align: right;
            width: 20px;
            border: 1px solid black;
        }
        #PlottedQueriesContainer .PlottedRowUnit .legend .legend-row td.legend-color.image {
            text-align: center;
            border: none;
        }
        
        /* Permissions Popup */
        #permissions-grid-wrapper .ui-combobox
        {
            padding-right: 0;
        }
        #permissions-grid-wrapper .ui-combobox input
        {
            background-color: white;
            padding-right: 30px;
            font-weight: bold;
            width: 200px;
        }
        #permissions-grid-wrapper .ui-combobox a
        {
            background: transparent;
            border: none;
            position: absolute;
            right: 0;
        }
        #permissions-grid-wrapper .ui-combobox a .ui-button-icon-primary
        {
            background: transparent url("{!URLFOR($Resource.QueryEditor, 'images/icons/combobox-arrow-16.png')}") no-repeat center;
        }
        #permissions-grid-wrapper.permissions-grid-loading #permissions-grid-loadmask {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 99;
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
            background-color: #ffffff;
            opacity: 0.4;
            -ms-filter: progid:DXImageTransform.Microsoft.Alpha(Opacity = 40);
            filter: alpha(opacity = 40);
        }
        #permissions-grid-wrapper.permissions-grid-loading #permissions-grid-loadmask {
            display: block;
        }
        #permissions-grid-wrapper {
            position: relative;
            min-height: 150px;
        }
        #permissions-grid-wrapper.permissions-grid-loading #permissions-grid-loadmask {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 99;
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
            background-color: #ffffff;
            opacity: 0.4;
            -ms-filter: progid:DXImageTransform.Microsoft.Alpha(Opacity = 40);
            filter: alpha(opacity = 40);
        }
        #permissions-grid-wrapper.permissions-grid-loading #permissions-grid-loadmask {
            display: block;
        }
        #permissions-grid-status {
            display: none;
            position: absolute;
            width: 100%;
            text-align: center;
            z-index: 999999;
            top: 100px;
        }
        #permissions-grid-wrapper.permissions-grid-loading #permissions-grid-status {
            display: block;
        }
        #permissions-grid-status .status {
            margin: 0 auto;
            background-color: white;
            display: inline-block;
            padding: 15px;
            font-size: 10px;
            -moz-border-radius: 12px;
            -webkit-border-radius: 12px;
            border-radius: 12px;
            -moz-box-shadow: 0px 0px 8px #000000;
            -webkit-box-shadow: 0px 0px 8px #000000;
            box-shadow: 0px 0px 8px #000000;
        }
        #permissions-grid-status * {
            vertical-align: middle;
        }
        #permissions-grid-status img {
            margin-right: 5px;
        }        
        #permissions-grid
        {
            width:100%;
            font-size:13px;
            text-align:center;
            vertical-align:middle;
            border-collapse: collapse;
        }
        
        #permissions-grid thead
        {
            border-color: black;
            border-style: solid;
            border-width: 0 0 2px 0;
        }
        
        #permissions-grid tbody tr.permissions-row td
        {
            border-bottom: 1px solid #CCCCCC;
        }
        
        #permissions-grid tbody tr.permissions-row:hover
        {
            background-color: #E2F0FF;
        }
        #permissions-grid .permissions-row .permission-for input {
            background-color: white;
        }
        
        /* Missing Addresses Popup */
        #MissingAddressesContent {
            max-height: 400px;
            overflow: auto;
        }
        #MissingAddressesContent .missingaddresses-wrapper {
            margin-right: 10px;
        }
        #MissingAddressesContent .missingaddresses-header {
            border-bottom: 3px solid silver;
            color: #757575;
            font-size: 12px;
            font-weight: bold;
            margin-top: 10px;
        }
        #MissingAddressesContent .missingaddresses-header a {
            float: right;
            color: #2265bb;
            cursor: pointer;
            text-decoration: none;
        }
        
        /* Add to Campaign */
        #addtocampaign-select-filters td.label, #addtocampaign-select-advanced-filters td.label {
            font-size: 11px;
            font-weight: bold;
        }
        #addtocampaign-select-filters td.data, #addtocampaign-select-advanced-filters td.data {
            font-size: 10px;    
        }
        
        /* Change Owner */
        #ChangeOwnerPopup .changeowner-row:hover td {
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#d9fffa', endColorstr = '#f0fffe');
            -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr = '#d9fffa', endColorstr = '#f0fffe')";
            background-image: -moz-linear-gradient(top, #d9fffa, #f0fffe);
            background-image: -ms-linear-gradient(top, #d9fffa, #f0fffe);
            background-image: -o-linear-gradient(top, #d9fffa, #f0fffe);
            background-image: -webkit-gradient(linear, center top, center bottom, from(#d9fffa), to(#f0fffe));
            background-image: -webkit-linear-gradient(top, #d9fffa, #f0fffe);
            background-image: linear-gradient(top, #d9fffa, #f0fffe);
            cursor: pointer;
        }
        
        /* New Task/Event */
        #NewTaskPopup .changeowner-row:hover td, #NewEventPopup .changeowner-row:hover td {
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#d9fffa', endColorstr = '#f0fffe');
            -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr = '#d9fffa', endColorstr = '#f0fffe')";
            background-image: -moz-linear-gradient(top, #d9fffa, #f0fffe);
            background-image: -ms-linear-gradient(top, #d9fffa, #f0fffe);
            background-image: -o-linear-gradient(top, #d9fffa, #f0fffe);
            background-image: -webkit-gradient(linear, center top, center bottom, from(#d9fffa), to(#f0fffe));
            background-image: -webkit-linear-gradient(top, #d9fffa, #f0fffe);
            background-image: linear-gradient(top, #d9fffa, #f0fffe);
            cursor: pointer;
        }
        
        /* Menu Buttons */
        .MAToolBar .menubutton {
            margin-right: 10px;
        }
        
        /* Fix jsTree checkbox images */
        .jstree-default .jstree-unchecked > a > .jstree-checkbox:hover {
            background-position: -2px -41px;
        }
        .jstree-default .jstree-checked > a > .jstree-checkbox {
            background-position: -50px -19px;
        }
        .jstree-default .jstree-checked > a > .jstree-checkbox:hover {
            background-position: -50px -41px;
        }
        .jstree-default .jstree-undetermined > a > .jstree-checkbox {
            background-position: -26px -21px;
        }
        .jstree-default .jstree-undetermined > a > .jstree-checkbox:hover {
            background-position: -26px -42px;
        }
    </style>
    
    <!-- JS -->
    <script type='text/javascript'>
        var securityToken = '{!securityToken}';
        var pageSuffix = '{!pageSuffix}';
        var namespace = '{!namespace}';
        var LicenseType = '{!LicenseType}';
        
        $(function () {
        
            //send a request to run quick queries on each base object in order to cache the tables
            $.ajax({
                url: 'MASavedQueryAJAXResources'+pageSuffix+'?action=runCacheQueries',
                type: 'POST',
                dataType: 'JSON',
                data: {},
                success: function (response) { Debug('Cache queries completed'); },
                error: function (response) { Debug('Unable to run cache queries'); }
            });
            
            //put the current version number as the default entry in the debug log
            Debug('Running Version: {!versionNumber}');
        
            //handle clicking on plotted query render buttons
            $('#PlottedQueriesContainer').on('click', '.PlottedRowUnit .renderButtons-button', function () {
                var $plottedQuery = $(this).closest('.PlottedRowUnit').addClass('loading');
                
                var $button = $(this);
                setTimeout(function () {
                    if ($button.is('.on'))
                    {
                        unrenderQuery($plottedQuery, $button.attr('data-renderAs'), function () {
                            $plottedQuery.removeClass('loading');
                        });
                    }
                    else
                    {
                        renderQuery($plottedQuery, $button.attr('data-renderAs'), function () {
                            $plottedQuery.removeClass('loading');
                        }); 
                    }
                }, 100);
            });
            
            //handle clicking a bad address link
            $('#PlottedQueriesContainer').on('click', '.PlottedRowUnit .plottinginfo-wrapper .link.geocode', function () {
            
                //hide all missing addresses except for this query
                var savedQueryId = $(this).closest('.PlottedRowUnit').data('id');
                $('#MissingAddressesContent .missingaddresses-wrapper').each(function () {
                    if ($(this).attr('data-id') == savedQueryId) {
                        if ($(this).find('.toggle').text() == 'Show') {
                            $(this).find('.toggle').click();
                        }
                    }
                    else if ($(this).find('.toggle').text() == 'Hide') {
                        $(this).find('.toggle').click();
                    }
                });
                
                //show the missing address popup
                ShowAddressNotFoundPopup();
            });
            
            //handle clicking to show/hide the legend or empty legend rows
            $('#PlottedQueriesContainer').on('click', '.legend-showhide', function () {
                var $plottedQuery = $(this).closest('.PlottedRowUnit');
                if ($(this).text() == '--Hide Legend--') {
                    $(this).text('--Show Legend--');
                    $plottedQuery.find('.legend, .legend-moreless').hide();
                }
                else {
                    $(this).text('--Hide Legend--');
                    $plottedQuery.find('.legend').show();
                    if ($plottedQuery.find('.legend-row.empty').length > 0) {
                        $plottedQuery.find('.legend-moreless').show();
                    }
                }
            });
            $('#PlottedQueriesContainer').on('click', '.legend-moreless', function () {
                var $plottedQuery = $(this).closest('.PlottedRowUnit');
                if ($(this).text() == '--Show More--') {
                    $(this).text('--Show Less--');
                    $plottedQuery.find('.legend-row.empty').show();
                }
                else {
                    $(this).text('--Show More--');
                    $plottedQuery.find('.legend-row.empty').hide();
                }
            });
            
            //handle clicking on plotted query legend items
            $('#PlottedQueriesContainer').on('change', '.legend-checkbox', function () {
            
                //grab some basic info about this legend item
                var $legendCheckbox = $(this);
                var $plottedQuery = $(this).closest('.PlottedRowUnit');
                var markerMetadata = $plottedQuery.data('markerMetadata');
                
                //grab prox circle info if we have one
                var centerPoint, radius;
                if (pc_Added)
                {
                    centerPoint = new nokia.maps.geo.Coordinate(parseFloat(pc_Lat), parseFloat(pc_Long));
                    radius = (pc_Diameter / 2);
                }
                
                //loop through all markers and build a list of those that need to be modified
                var markers = [];
                $.each($plottedQuery.data('records'), function (index, record) 
                {
                    //determine if our picklist value matches
                    var picklistValueMatches = false;
                    var picklistValue = extractValue(record.record, markerMetadata.PicklistField);
                    if (markerMetadata.ColorAssignments[picklistValue]) 
                    {
                        //the picklist value has a color assignment, now check if it matches
                        if (picklistValue == $legendCheckbox.attr('data-value')) 
                        {
                            //it does match
                            picklistValueMatches = true;
                        }
                    }
                    else if ($legendCheckbox.attr('data-value') == '<Other>') {
                        //the picklist value does not have a color assignment and this legend item is <Other> so that's a match
                        picklistValueMatches = true;
                    }
                
                    //check this marker against all of our criteria to see if it should be added to the list
                    if ($legendCheckbox.is(':checked'))
                    {
                        //this record must have a marker, be hidden, match, and not violate any prox circles
                        if (record.marker && !record.isVisible && picklistValueMatches && (!pc_Added || (pc_Added && new nokia.maps.geo.Coordinate(parseFloat(record.latitude), parseFloat(record.longitude)).distance(centerPoint) <= radius))) {
                            record.isVisible = true;
                            markers.push(record.marker);
                        }
                    }
                    else
                    {
                        //this record must have a marker, be visible, and match
                        if (record.marker && record.isVisible && picklistValueMatches) {
                            record.isVisible = false;
                            markers.push(record.marker);
                        }
                    }
                });
                
                //show/hide our markers
                if ($legendCheckbox.is(':checked')) {
                    map.objects.addAll(markers);
                    $legendCheckbox.closest('.legend-row').find('.visiblemarkers').text(markers.length);
                }
                else {
                    map.objects.removeAll(markers);
                    $legendCheckbox.closest('.legend-row').find('.visiblemarkers').text('0');
                }
                
                updateQueryInfo($plottedQuery);
            });
        });
    </script>
    <c:JSHelperFunctions />
    <c:JSMapAnything />
    <c:JSMapAnythingPlotting />


            
    <!-- Controller Communication -->
    <apex:form >
        <apex:inputHidden id="serializedDefaultQueries" value="{!serializedDefaultQueries}" />
        
        <apex:actionFunction name="PopulateMAExportsAF" reRender="MAExportsRepeat,ExportPageMessages" action="{!PopulateMAExports}"/>
        <apex:actionFunction name="DeleteExportsAF" reRender="MAExportsRepeat,ExportPageMessages" action="{!DeleteExports}"/>
    </apex:form>

    <!-- Toolbar (top) -->
    <div class="MAToolBar" style="border:none;width:99%;">
 
        <table style='width: 100%'>
            <tr>
                <td style='white-space: nowrap; vertical-align: top;'>
                    <div id="logo-mapanything"></div>
                </td>
                <td style='white-space: nowrap; text-align: right; vertical-align: top;'>
                
                    <!-- Toolbar Standard Buttons -->
                    <a class="btn lightgray" onclick="ShowHidePosition();" id="ShowPositionButton">Show Position</a>
                    <a class="btn lightgray" onclick="GoToHomePosition();" id="ShowPositionButton">Go Home</a>
                    <a class="btn lightgray" onclick="EnableDisableZoombox();" style="cursor:pointer;" id="ZoomBoxButton">Enable Zoombox</a>
                    <a class="btn lightgray" id="ZoomToFitButton">Zoom to Fit</a>
                    <a class="btn lightgray" id="ShowTrafficButton" style="width:60px;text-align:center;">Show Traffic</a>
                    
                    <!-- Divider -->
                    <div class="btn-divider"></div>
                    
                    <!-- Map Views -->
                    <div class="menubutton">
                        <span id='mapviewtext'>Normal View</span>
                        <div class="arrow-down"></div>

                        <div class='menu'>
                            <div class='bulletlink mapview-button' data-baseMapType='NORMAL' data-label='Normal View'>
                                <div class='arrow-right'></div>
                                Normal View
                            </div>
                            <div class='bulletlink mapview-button' data-baseMapType='TERRAIN' data-label='Terrain View'>
                                <div class='arrow-right'></div>
                                Terrain View
                            </div>
                            <div class='bulletlink mapview-button' data-baseMapType='SATELLITE' data-label='Satellite View'>
                                <div class='arrow-right'></div>
                                Satellite View
                            </div>
                        </div>
                    </div>
                    
                    <!-- Proximity -->
                    <div class="menubutton">
                        <span>Proximity</span>
                        <div class="arrow-down"></div>

                        <div class='menu persistent'>
                        
                            <div class="header">

                                <div style='clear: both; margin-bottom: 5px;'>
                                    <label>Proximity On:</label><input type="checkbox" id="ProximityCheckbox" onclick="ProximityCheckChanged(this);" />
                                </div>
                                <div style='clear: both;'>
                                    <label>&quot;Map It&quot; Proximity On:</label><input type='checkbox' class='mapit-proximity-on' onclick="StoreMASettings();" />
                                </div>
                    
                            </div><!--header-->
                    
                            <div class="indent">
                                <p style='margin: 10px 0 0 0;'>Radius:</p>
                                <input style="display:block;float:left;position:relative;clear:both;margin-right:10px;width:50px;" type="text" size="5" id="ProximityRadius" />
                                <select style="display:block;float:left;position:relative;height:20px;" id="ProximityRadiusMeasurementType">
                                    <option value="MILES">Miles</option>
                                    <option value="KM">Km</option>
                                    <option value="METERS">Meters</option>
                                    <option value="YARDS">Yards</option>
                                    <option value="FEET">Feet</option>
                                </select>
                                <a class="button1-blue" style="display:none;float:left;position:relative;" id="UpdateProxCircleButton"  onclick="UpdateProxCircle();">Update</a>
                                
                                <p style='clear: both; padding: 10px 0 0 0; margin: 0;'>Address:</p>
                                <textarea  rows="2" cols="20" id="ProximityAddress" style="display:block;float:left;position:relative;clear:both;width:210px;margin:2px 0 0 0;" ></textarea> 
                                <div class="proximity-create" style="display:block;float:left;position:relative;margin:10px 0 0 0;width:100%;">
                                    <a class="button1-blue" style="margin-left:0;" onclick="CreateProximityAddress();">Create</a>
                                    <span id="ProximityAddressStatus" style="display:block;float:left;position:relative;clear:none;margin:9px 0 0 0;"></span>
                                </div><!--proximity-create-->
                            </div>

                        </div>
                    </div>
                    
                    <!-- Map Tools -->
                    <div class="menubutton">
                        <span>Map Tools</span>
                        <div class="arrow-down"></div>

                        <div class='menu'>
                        
                            <!-- Map View Tools -->
                            <div class='header'>Map View Tools</div>
                            <div class='indent'>
                                <div id='SetAsHomeButton' class='bulletlink'>
                                    <div class='arrow-right'></div>
                                    Set as Home
                                </div>
                            </div>
                            
                            <!-- Map Utilities -->
                            <div class='header'>Map Utilities</div>
                            <div class='indent'>
                                <div id='ShowDebugWindowButton' class='bulletlink'>
                                    <div class='arrow-right'></div>
                                    Debug Window
                                </div>
                                <div id='AddressesNotFoundButton' class='bulletlink'>
                                    <div class='arrow-right'></div>
                                    Addresses Not Found
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    
                    <!-- With Visible -->
                    <div class='menubutton'>
                        <span>With Visible</span>
                        <div class='arrow-down'></div>

                        <div class='menu'>
                        
                            <!-- Transfer -->
                            <div class='header'>Transfer</div>
                            <div class='indent'>
                                <div id='withvisible-addtocampaign' class='bulletlink' onclick='AddVisibleToCampaign();'>
                                    <div class='arrow-right'></div>
                                    Add to Campaign
                                </div>
                                <div id='withvisible-changeowner' class='bulletlink' onclick='ChangeOwnerOfVisible();'>
                                    <div class='arrow-right'></div>
                                    Change Owner
                                </div>
                            </div>
                            
                            <!-- Activity -->
                            <div class='header'>Activity</div>
                            <div class='indent'>
                                <div id='withvisible-newtask' class='bulletlink' onclick='NewTaskForVisible();'>
                                    <div class='arrow-right'></div>
                                    New Task
                                </div>
                                <div id='withvisible-newevent' class='bulletlink' onclick='NewEventForVisible();'>
                                    <div class='arrow-right'></div>
                                    New Event
                                </div>
                            </div>
                            
                            <!-- Chatter -->
                            <div class='header'>Chatter</div>
                            <div class='indent'>
                                <div id='withvisible-follow' class='bulletlink' onclick='updateChatterSubscriptions(true);'>
                                    <div class='arrow-right'></div>
                                    Follow
                                </div>
                                <div id='withvisible-unfollow' class='bulletlink' onclick='updateChatterSubscriptions(false);'>
                                    <div class='arrow-right'></div>
                                    Unfollow
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    
                </td>
            </tr>
        </table>

    </div>
    
    <!-- Sidebar -->
    <div id='sidebar'>
    
        <!-- Sidebar Content -->
        <div id="sidebar-content">
    
            <!-- Sidebar Tabs -->
            <div id="tabs-nav">
                
                <!-- Tab Handles -->
                <ul>
                    <li><a href="#tab-queries">Queries</a></li>
                    <li><a href="#tab-directions">Directions</a></li>
                    <li><a href="#tab-export">Export</a></li>
                </ul>
    
                <!-- Queries Tab -->
                <div id="tab-queries">
                    <div class="slider-tabs" style="display:block;float:left;margin:5px 0 0 0;padding:0;width:100%;">
                        <div style="display:block;float:left;padding:0;margin:0;width:46%;">
                            <a id="TreeTab" class="TreeTab-Active"><div class="bullet-bluearrow-left"></div>Tree</a>
                        </div>
   
                        <div style="display:block;float:right;padding:0;margin:0;width:46%;">
                            <a id="PlottedQueriesTab" class="PlottedQueriesTab-Inactive"><div class="bullet-bluearrow-right"></div>Plotted Queries<span id="PlottedSavedQueryCount"></span></a>
                        </div>
                    </div><!--slider-tabs-->
    
                    <div id="slider1">
                        <div id="Slider-Tree">
                            <div id="SQTree" class="demo" style="padding-top:3px;"></div>
                        </div>
                      
                        <div id="Slider-PlottedSavedQueries" style="display:block;float:left;overflow:auto;padding:0;margin-top:10px;">
                            <div style="display:block;float:left;margin:0;padding:0;">
                                <h1 style="margin-top:0;padding-top:0;">Plotted Saved Queries</h1>
                    
                                <div id="PlottedQueriesContainer" style="display:block;float:left;width:100%;">
                                    <div id="PlottedQueriesTable" style='margin-top: 0; padding-top: 0;'>
                                    
                                    </div>
                                </div>
                    
                                <div id="TestMe" style="color:black;"></div>
                            </div>
                        </div>
                        
                        <div>
                            Blank Slide
                        </div>
                    </div>
                </div><!--queries-->
                
                <!-- Directions Tab -->
                <div id="tab-directions">
                
                    <!-- Slider Buttons -->
                    <div class="slider-tabs" style="display:block;float:left;margin:5px 0 0 0;padding:0;width:100%;">
                    
                        <!-- Locations -->
                        <div style="display:block;float:left;padding:0;margin:0;width:46%;">
                            <a id="DirectionsInputTab" class="TreeTab-Active"><div class="bullet-bluearrow-left"></div>Locations</a>
                        </div>
                        
                        <!-- Directions -->
                        <div style="display:block;float:right;padding:0;margin:0;width:46%;">
                            <a id="DirectionsOutputTab" class="PlottedQueriesTab-Inactive"><div class="bullet-bluearrow-right"></div>Directions</a>
                        </div>
                        
                    </div><!--slider-tabs-->
    
                    <!-- Directions Slides -->
                    <div id="slider2">
                    
                        <!-- Locations Slide -->
                        <div id="Slider-DirectionsInput">
                        
                            <!-- Directions Options -->
                            <b>Directions Options</b>
                            <table cellpadding="3" style="margin-bottom:5px;">
                                <tr>
                                    <td><b>Mode:</b></td>
                                    <td>
                                        <select id="RouteMode">
                                            <option value="car">Car</option>
                                            <option value="truck">Truck</option>
                                            <option value="pedestrian">Walking</option>
                                            <option value="publicTransport">Public Transport</option>
                                        </select> 
                                    </td>
                                </tr>
                                <tr>
                                    <td><b>Type:</b></td>
                                    <td>
                                        <select id="RouteType">
                                          <option value="shortest">Shortest</option>
                                          <option value="fastest">Fastest</option>
                                          <option value="scenic">Scenic</option>
                                        </select> 
                                    </td>
                                </tr>
                                <tr>
                                    <td><b>Unit:</b></td>
                                    <td>
                                        <select id="UnitType">
                                          <option value="mi">Miles</option>
                                          <option value="km">Kilometers</option>
                                        </select> 
                                    </td>
                                </tr>
                            </table>
        
                            <!--
                                <a onclick="CreatePopupWindow('TruckOptions','650');">TruckOptions</a>
                             -->

                            <!-- Directions Location List -->
                            <div id="DirectionsInput" style="overflow:auto; margin-bottom:5px;padding:0 5px 5px 0;border-bottom:1px solid #ddd;">
                                <ul id="sortable">
                                    <li class="ui-state-default" index="0">
                                    <div class="draggable"></div>
                                        <span id="RowNumber">1</span>
                                        <input type="text" />
                                        <a class="button1-white" onclick="RemoveAddressRow(this);" style="float:right;color:#666;margin:-2px 2px 0 0;">Remove</a>
                        
                                    </li>
                                    <li class="ui-state-default" index="1">
                                    <div class="draggable"></div>
                                        <span id="RowNumber">2</span>
                                        <input type="text" />
                                        <a class="button1-white" onclick="RemoveAddressRow(this);" style="float:right;color:#666;margin:-2px 2px 0 0;">Remove</a>
                                    </li>
                                </ul>
                    
                            </div>
                            
                            <!-- Directions Buttons -->
                            <a class="button1-white" onclick="AddAddressRow();">Add Row</a> 
                            <a class="button1-white" onclick="ClearDirections();">Clear</a> 
                            <a class="button1-blue" style="float:right;margin-bottom:3px;" onclick="GetDirections();">Get Directions</a> 
                                
                        </div><!--Slider-DirectionsInput-->
       
                        <!-- Directions Slide -->
                        <div id="Slider-DirectionsOutput" style="overflow:auto;">     
                            <span style="font-family:helvetica,arial,sans-serif;font-size:12px;color:#006DB4;font-weight:bold;">Directions</span>
                            
                            <div id="DirectionControls" style="display:none; width:100%;">
                                <a class="button1-white" onclick="printthis('DirectionsOutput');">Print</a> 
                                <a class="button1-white" onclick="SendDirectionsEmail();">Email Directions</a> 
                                <a class="button1-white" onclick="ClearDirections();">Clear</a> 
                            </div>
                            
                            <br /> <br />
            
                  
                            <div id="DirectionsOutput" style="overflow:auto;display:block;float:left;width:100%;">
        
                            </div>
                        </div><!--Slider-DirectionsOutput-->
                        
                        <!-- Blank Slide -->
                        <div>
                            Blank Slide
                        </div>
                    </div><!--Directions Slider-->
        
                </div><!--Directions Tab-->
    
                <!-- Export Tab -->
                <div id="tab-export">
       
                    <!-- Name -->
                    <div style="display:block;float:left;width:100%;">
                        <span style="display:block;float:left;margin-top:5px;font-family:helvetica,arial,sans-serif;font-size:12px;color:#000;font-weight:bold;">Name:</span>
                        <input style="display:block;float:right;margin:3px 0 0 7px;padding:2px 5px 2px 5px;height:12px;width:200px;" type="text" id="ExportName" />
                    </div>
        
                    <!-- Buttons -->
                    <div style="display:block;float:right;width;100%;margin:0;padding:8px 0 5px 0;">
                        <a class="button1-blue" style="float:right;margin-bottom:3px;margin-right:0;" onclick="DoExport();">Submit</a> 
                        <a class="button1-white" style="float:right;margin-bottom:3px;margin-right:0;" onclick="ClearExport();">Clear Exports</a> 
                    </div>
        
                    <!-- Exports Table -->
                    <div id="exportedTable">
        
                        <apex:outputPanel id="MAExportsRepeat">
                            <table class="exported">
                                <tr>
                                    <th style="width:65%;border-right:1px solid #fff;">Export Name</th>
                                    <th style="width:28%;">Export Date</th>
                                </tr>
                                
                                <apex:repeat value="{!MAExports}" var="e" >
                                    <tr>
                                        <td><a href="/apex/MapAnythingExport?expID={!e.Id}" target="_blank">{!e.Name}</a></td>
                                        <td><apex:outputField value="{!e.CreatedDate}"/></td>
                                    </tr>
                                </apex:repeat>
                            </table>   
                        </apex:outputPanel>
        
                    </div>
        
                    <!-- Export Messages -->
                    <apex:outputPanel id="ExportPageMessages">
                        <apex:pagemessages ></apex:pagemessages>
                    </apex:outputPanel>
    
                </div><!--End Export Tab-->
    
            </div><!--tabs-->
        </div><!--sidebar-content-->
    </div><!--sidebar-->

    <!-- Sidebar Shadow -->
    <div id="left-shadow"></div>
    
    <!-- Sidebar Handle -->
    <div id="sidebar-button">
        <img id="gearIcon" title="Collapse/Expand Menu" onmouseover="this.className = 'gearIconOn';" onmouseout="this.className = 'gearIcon';" onfocus="this.className = 'gearIconOn';" onblur="this.className = 'gearIcon';" alt="Collapse/Expand Menu" src="/s.gif" />   
    </div><!--sidebar-button-->

    <!-- Map -->
    <div id="mapdiv" style="width:99%;">
        
        <!-- Zoom Bar -->
        <div class='tools-zoom'>
            <div class='zoom-bar-wrapper'>
                <div class='zoom-bar'>
                    <div class='zoom-bar-slider'></div>
                    <div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div><div class='zoom-bar-level'></div>
                </div>
                
                <div class='zoom-level street' data-zoom-level='17'>
                    <div class='zoom-level-highlight'></div>
                    <div class='zoom-level-label'>Street</div>
                </div>
                <div class='zoom-level city' data-zoom-level='11'>
                    <div class='zoom-level-highlight'></div>
                    <div class='zoom-level-label'>City</div>
                </div>
                <div class='zoom-level state' data-zoom-level='8'>
                    <div class='zoom-level-highlight'></div>
                    <div class='zoom-level-label'>State</div>
                </div>
                <div class='zoom-level country' data-zoom-level='5'>
                    <div class='zoom-level-highlight'></div>
                    <div class='zoom-level-label'>Country</div>
                </div>
            </div>
            <div class='zoom-toggle'>
                <div class='zoom-toggle-plus'><div class='zoom-toggle-plus-icon'></div></div>
                <div class='zoom-toggle-minus'><div class='zoom-toggle-minus-icon'></div></div>
            </div>
        </div>
        
        <!-- Shadows -->
        <div id="top-shadow"></div>
        <div id="right-shadow"></div>
        <div id="bottom-shadow"></div>
        <div id="topleft-shadow"></div>
        <div id="topright-shadow"></div>
        <div id="bottomleft-shadow"></div>   
        <div id="bottomright-shadow"></div> 
        
        <!-- Growl Wrapper -->
        <div id="growl-wrapper" style='position: absolute; top: 5px; right: 5px;'></div>
        
    </div>

    <!-- Map Footer (REMOVE THIS LATER) -->
    <div id="map-footer" style="display:none;float:left;clear:both;width:100%;height:25px;margin:8px 0 0 0;background:#fff;">    
        
        <!-- Footer Logo -->
        <div style="display:block;float:left;">
            <a id="footer-logo" href="http://cloudbilt.com" target="_blank"></a>
        </div>

        <!-- Geocoders Table -->
        <div style="display:block;float:right;">
            <table>
                <tr>
                    <td><b>Geocoding</b></td>
                    <td style="text-align:right;"><b>Request Pending:</b></td>
                    <td id="GeoRequestPending"></td>
                    <td style="text-align:right;"><b>Current Request:</b></td>
                    <td id="GeoCurrentRequest"></td>
                    <td style="text-align:right;"><b>Sent Request:</b></td>
                    <td id="GeoSentRequest"></td>
                    <td style="text-align:right;"><b>Processed Request:</b></td>
                    <td id="GeoProcessedRequest"></td>
                </tr>
            </table>
        </div>

    </div><!--footer-->
    
    <!-- Range Colors -->
    <div id="RangeColorsDiv" style="text-align:center;"></div>
    
    <style>
        #container a
        {
            color:white;
        }
    </style>
    
    <!-- Notification Templates -->
    <div id="container">
        <div id="basic-template">
            <a class="ui-notify-cross ui-notify-close" href="#">x</a>
            <h1 style="color:red;">#{title}</h1>
            <p>#{text}</p>
        </div>
        <div id="Warning-Template">
            <a class="ui-notify-cross ui-notify-close" href="#">x</a>
            <h1 style="color:yellow;">#{title}</h1>
            <p>#{text}</p>
        </div>
    </div>
    
    <!-- Copy To Popup -->
    <div id="CopyToPopup" class="popup_block">
        <h2>Copy <span id="copynode" copyid="" copynodetype="" style="font-size:14px;color:black;"></span> To...</h2>
        <div id="CopyToTree" class="demo" style="padding-top:3px;"></div>
        <br />
        <br />
        <a class="button1-blue" onclick="SubmitCopyTo();">Submit</a>  
        <a class="button1-blue" onclick="ClosePopupWindow();">Close</a>    
    </div>
    
    <!-- Edit Permissions Popup -->
    <div id="EditPermissionsPopup" class="popup_block">
        <div class='loadmask-wrapper'>
            <h2>Folder Permissions for <span id="foldertoedit" folderid="" style="font-size:14px;color:black;"></span></h2>
            <br />
            <table style='width: 100%;'>
                <tr>
                    <td>
                        <!-- Permissions Grid Filters  -->
                        <table id="permissions-filters">
                            <tr>
                                <td>Search for</td>
                                <td><select id='permissionsfilter-searchtype'><option value='Both' selected="selected">Both</option><option value='User'>User</option><option value='Profile'>Profile</option></select></td>
                                <td><input type='text' id='permissionsfilter-searchtext' /></td>
                            </tr>
                        </table>
                    </td>
                    <td>
                        <!-- Permissions Grid Paging -->
                        <table style='float: right;'>
                            <tr>
                                <td id='permissions-pageinfo'></td>
                            </tr>
                            <tr>
                                <td style='text-align: right; verticle-align: middle;'>Go to page <select id='permissions-page'></select></td>
                            </tr>
                        </table>
                    </td>
                </tr>
            
            </table>
            <div id="permissions-grid-wrapper">
                <div id="permissions-grid-loadmask"></div>
                <div id="permissions-grid-status">
                    <div class='status'>
                        <img src="{!URLFOR($Resource.MapAnything, 'images/chatterstatus-loader.gif')}" />
                        <span></span>
                    </div>
                </div>
                <table id="permissions-grid" cellspacing="5">
                    <thead>
                        <tr style="width:100%;">
                            <td style="width:15%;text-align:left;"><b>Permission Type</b></td>
                            <td style="width:20%;text-align:left;"><b>Permission For</b></td>
                            <td style="width:10%"><b>Read</b></td>
                            <td style="width:10%"><b>Create</b></td>
                            <td style="width:10%"><b>Modify</b></td>
                            <td style="width:10%"><b>Delete</b></td>
                            <td style="width:10%"><b>Set Perm.</b></td>
                            <td style="width:15%"></td>
                        </tr>                   
                    </thead>
                </table>
            </div>
            <br />
            <br />    
            <a class="button1-blue" onclick="CreateNewPermissionPopup();">Create New</a>                 
            <a class="button1-blue" onclick="ClosePopupWindow();">Close</a>
        </div>
    </div>

    <!-- Debug Window -->
    <div id="DebugWindowPopup" class="popup_block">
        <h2>Debug Log</h2>
        <div id="DebugOut"></div>
        <br />
        <br />
        <a class="button1-blue" onclick="ClosePopupWindow();">Close</a>
        <a class="button1-lightgray" onclick="ClearDebugWindow();">Clear</a>
        <a class="button1-lightgray" onclick="EmailDebugLog();">Email Log</a>
    </div>

    <!-- Address Not Found Window -->
    <div id="AddressNotFoundPopup" class="popup_block">
        <h2>Addresses Not Found</h2>
        <div id="MissingAddressesContent" ></div>
        <br />
        <br />
        <a class="button1-blue" href="javascript:ClosePopupWindow();">Close</a>
        <a class="button1-lightgray" onclick="ExportMissingAddresses();">Export Selected</a>
        <a class="button1-lightgray" onclick="ExportMissingAddresses(true);">Export All</a>
    </div>
    
    <!-- Add to Campaign Window -->
    <div id="AddToCampaignPopup" class="popup_block" style='max-height: 600px;'>
        <h2>Add to Campaign</h2>
        
        <!-- Step 1: Select Campaigns -->
        <div id='addtocampaign-select-wrapper' class='loadmask-wrapper'>
        
            <!-- Header -->
            <h4>Step 1: Select Campaigns</h4>
            
            <!-- Grid -->
            <div class='grid-wrapper'>
                <!-- Campaigns Grid Options -->
                <table style='width: 100%;'>
                    <tr>
                        <td style='vertical-align: top;'>
                            <!-- Campaigns Grid Filters -->
                            <table id="addtocampaign-select-filters">
                                <tr>
                                    <td class='label'>Name</td>
                                    <td class='data'><input type='text' id='addtocampaign-filter-name' class='filter-text' data-field='Name' /> <span class='link showadvancedfilters'>Show Advanced Filters</span> | <span class='link clearfilters'>Clear Filters</span></td>
                                </tr>
                            </table>
                            
                            <!-- Campaigns Grid Advanced Filters -->
                            <div id="addtocampaign-select-advanced-filters" style='display: none;'>
                                <table>
                                    <tr>
                                        <td class='label'>Type</td>
                                        <td class='data'><input type='text' id='addtocampaign-filter-type' class='filter-text' data-field='Type' /></td>
                                        <td class='label'>Status</td>
                                        <td class='data'><input type='text' id='addtocampaign-filter-status' class='filter-text' data-field='Status' /></td>
                                    </tr>
                                    <tr>
                                        <td class='label'>Start Date</td>
                                        <td class='data' colspan='3'>between <input type='text' id='addtocampaign-filter-startdate-start' class='filter-calendar start' data-field='StartDate' /> and <input type='text' id='addtocampaign-filter-startdate-end' class='filter-calendar end' data-field='StartDate' /></td>
                                    </tr>
                                    <tr>
                                        <td class='label'>End Date</td>
                                        <td class='data' colspan='3'>between <input type='text' id='addtocampaign-filter-enddate-start' class='filter-calendar start' data-field='EndDate' /> and <input type='text' id='addtocampaign-filter-enddate-end' class='filter-calendar end' data-field='EndDate' /></td>
                                    </tr>
                                    <tr>
                                        <td class='label'># Leads</td>
                                        <td class='data' colspan='3'>between <input type='text' id='addtocampaign-filter-leads-start' class='filter-number start' data-field='NumberOfLeads' /> and <input type='text' id='addtocampaign-filter-leads-end' class='filter-number end' data-field='NumberOfLeads' /></td>
                                    </tr>
                                    <tr>
                                        <td class='label'># Contacts</td>
                                        <td class='data' colspan='3'>between <input type='text' id='addtocampaign-filter-contacts-start' class='filter-number start' data-field='NumberOfContacts' /> and <input type='text' id='addtocampaign-filter-contacts-end' class='filter-number end' data-field='NumberOfContacts' /></td>
                                    </tr>
                                    <tr>
                                        <td class='label'># Responses</td>
                                        <td class='data' colspan='3'>between <input type='text' id='addtocampaign-filter-responses-start' class='filter-number start' data-field='NumberOfResponses' /> and <input type='text' id='addtocampaign-filter-responses-end' class='filter-number end' data-field='NumberOfResponses' /></td>
                                    </tr>
                                </table>
                            </div>
                        </td>
                        <td style='vertical-align: bottom;'>
                            <!-- Campaigns Grid Paging -->
                            <table style='float: right;'>
                                <tr>
                                    <td class='grid-pageinfo'></td>
                                </tr>
                                <tr>
                                    <td style='text-align: right; verticle-align: middle;'>Go to page <select class='grid-page'></select></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                
                </table>
                
                <!-- Spacer -->
                <div style='height: 15px;'>&nbsp;</div>
    
                <!-- Campaigns Grid -->
                <div id='addtocampaign-select-grid-wrapper' class='loadmask-wrapper'>
                    <table id='addtocampaign-select-grid' class='grid-blue'>
                        <tr>
                            <th style='width: 20px;'></th>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Status</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th># Leads</th>
                            <th># Contacts</th>
                            <th># Responses</th>
                        </tr>
                    </table>
                </div>
                
                <!-- Grid Selection Details -->
                <div id='addtocampaign-select-selectiondetails'><span>0</span> selected <span class='link clearselections'>Clear Selections</span></div>
            
            </div>
            
            <!-- Spacer -->
            <div style='height: 15px;'>&nbsp;</div>
        
            <!-- Buttons -->
            <a class="button1-lightgray" onclick="AddToCampaign_Step2();">Next</a>
            <span class='link' style='font-size: 10px; line-height: 22px;' onclick="ClosePopupWindow();">Cancel</span>
            
        </div>
        
        <!-- Step 2: Options -->
        <div id='addtocampaign-options-wrapper' class='loadmask-wrapper'>
        
            <!-- Header -->
            <h4>Step 2: Options</h4>
            
            <!-- Spacer -->
            <div style='height: 15px;'>&nbsp;</div>
            
            <!-- Options Grid -->
            <div id='addtocampaign-options-grid-wrapper' class='loadmask-wrapper'>
                <table id='addtocampaign-options-grid' class='grid-blue'>
                    <tr>
                        <th>Name</th>
                        <th>Member Status</th>
                        <th>Override Status For Existing Members</th>
                    </tr>
                </table>
            </div>
        
            <!-- Spacer -->
            <div style='height: 15px;'>&nbsp;</div>
        
            <!-- Buttons -->
            <a class="button1-lightgray" onclick="AddToCampaign_Step1();">Back</a>
            <a class="button1-lightgray" onclick="AddToCampaign_Finish();">Save &amp; Close</a>
            <span class='link' style='font-size: 10px; line-height: 22px;' onclick="ClosePopupWindow();">Cancel</span>
        
        </div>
        
    </div>
    
    <!-- Change Owner Window -->
    <div id="ChangeOwnerPopup" class="popup_block" style='max-height: 600px;'>
        <h2>Change Owner</h2>
        
        <!-- Step 1: Select New Owner -->
        <div id='changeowner-select-wrapper' class='loadmask-wrapper'>
        
            <!-- Header -->
            <h4>Step 1: Select New Owner</h4>
            
            <!-- Grid -->
            <div class='grid-wrapper'>
            
                <!-- Users Grid Options -->
                <table style='width: 100%;'>
                    <tr>
                        <td style='vertical-align: top;'>
                        
                            <!-- Grid Filters -->
                            <table>
                                <tr>
                                    <td class='label'>Name</td>
                                    <td class='data'><input type='text' id='changeowner-filter-name' class='filter-text' data-field='Name' /></td>
                                </tr>
                            </table>
                            
                        </td>
                        <td style='vertical-align: bottom;'>
                            
                            <!-- Grid Paging -->
                            <table style='float: right;'>
                                <tr>
                                    <td class='grid-pageinfo'></td>
                                </tr>
                                <tr>
                                    <td style='text-align: right; verticle-align: middle;'>Go to page <select class='grid-page'></select></td>
                                </tr>
                            </table>
                            
                        </td>
                    </tr>
                
                </table>
                
                <!-- Spacer -->
                <div style='height: 15px;'>&nbsp;</div>
    
                <!-- Users Grid -->
                <div id='changeowner-select-grid-wrapper' class='loadmask-wrapper'>
                    <table id='changeowner-select-grid' class='grid-blue'>
                        <tr>
                            <th>Name</th>
                        </tr>
                    </table>
                </div>
                
            </div>
            
            <!-- Spacer -->
            <div style='height: 15px;'>&nbsp;</div>
        
            <!-- Buttons -->
            <span class='link' style='font-size: 10px; line-height: 22px;' onclick="ClosePopupWindow();">Cancel</span>
            
        </div>
        
        <!-- Step 2: Options -->
        <div id='changeowner-options-wrapper' class='loadmask-wrapper'>
        
            <!-- Header -->
            <h4>Step 2: Transfer Options</h4>
            
            <!-- Spacer -->
            <div style='height: 15px;'>&nbsp;</div>
            
            <!-- Transfer Options -->
            <div>
                <h4>Select which releated items to transfer</h4>
                
                <div><input type='checkbox' id='changeowner-notes' checked='checked' /> Notes</div>
                <div><input type='checkbox' id='changeowner-attachments' checked='checked' /> Attachments</div>
                <div><input type='checkbox' id='changeowner-tasks' checked='checked' /> Open Tasks</div>
                <div><input type='checkbox' id='changeowner-events' checked='checked' /> Future Events</div>
            </div>
        
            <!-- Spacer -->
            <div style='height: 15px;'>&nbsp;</div>
        
            <!-- Buttons -->
            <a class="button1-lightgray" onclick="ChangeOwner_Step1();">Back</a>
            <a class="button1-lightgray" onclick="ChangeOwner_Finish();">Save &amp; Close</a>
            <span class='link' style='font-size: 10px; line-height: 22px;' onclick="ClosePopupWindow();">Cancel</span>
        
        </div>
        
    </div>
    
    <!-- New Task Window -->
    <div id="NewTaskPopup" class="popup_block" style='max-height: 600px;'>
        <h2>New Task</h2>
        
        <!-- Step 1: Assign To -->
        <div id='newtask-assignto-wrapper' class='loadmask-wrapper'>
        
            <!-- Header -->
            <h4>Step 1: Assign To</h4>
            
            <!-- Grid -->
            <div class='grid-wrapper'>
            
                <!-- Users Grid Options -->
                <table style='width: 100%;'>
                    <tr>
                        <td style='vertical-align: top;'>
                        
                            <!-- Grid Filters -->
                            <table>
                                <tr>
                                    <td class='label'>Name</td>
                                    <td class='data'><input type='text' class='filter-text' data-field='Name' /></td>
                                </tr>
                            </table>
                            
                        </td>
                        <td style='vertical-align: bottom;'>
                            
                            <!-- Grid Paging -->
                            <table style='float: right;'>
                                <tr>
                                    <td class='grid-pageinfo'></td>
                                </tr>
                                <tr>
                                    <td style='text-align: right; verticle-align: middle;'>Go to page <select class='grid-page'></select></td>
                                </tr>
                            </table>
                            
                        </td>
                    </tr>
                
                </table>
                
                <!-- Spacer -->
                <div style='height: 15px;'>&nbsp;</div>
    
                <!-- Users Grid -->
                <div id='newtask-select-grid-wrapper' class='loadmask-wrapper'>
                    <table id='newtask-select-grid' class='grid-blue'>
                        <tr>
                            <th>Name</th>
                        </tr>
                    </table>
                </div>
                
                <!-- Spacer -->
                <div style='height: 15px;'>&nbsp;</div>
                
            </div>
            
            <!-- Buttons -->
            <span class='link' style='font-size: 10px; line-height: 22px;' onclick="ClosePopupWindow();">Cancel</span>
            
        </div>
        
        <!-- Step 2: Task Details -->
        <div id='newtask-details-wrapper' class='loadmask-wrapper'>
        
            <!-- Header -->
            <h4>Step 2: Task Details</h4>
            
            <!-- Spacer -->
            <div style='height: 15px;'>&nbsp;</div>
        
            <!-- Details -->
            <table class='grid-blue'>
                <tr>
                    <td>Subject</td>
                    <td><input type='text' id='newtask-details-subject' style='width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;' /></td>
                </tr>
                <tr>
                    <td>Due Date</td>
                    <td><input type='text' id='newtask-details-duedate' class='datepicker' style='width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;' /></td>
                </tr>
                <tr>
                    <td>Comments</td>
                    <td><textarea id='newtask-details-description' style='width: 100%; height: 100px; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;'></textarea></td>
                </tr>
            </table>
            
            <!-- Spacer -->
            <div style='height: 15px;'>&nbsp;</div>
            
            <!-- Buttons -->
            <a class="button1-lightgray" onclick="NewTask_Step1();">Back</a>
            <a class="button1-lightgray" onclick="NewTask_Finish();">Add &amp; Close</a>
            <span class='link' style='font-size: 10px; line-height: 22px;' onclick="ClosePopupWindow();">Cancel</span>
            
        </div>
        
    </div>
    
    <!-- New Event Window -->
    <div id="NewEventPopup" class="popup_block" style='max-height: 600px;'>
        <h2>New Event</h2>
        
        <!-- Step 1: Assign To -->
        <div id='newevent-assignto-wrapper' class='loadmask-wrapper'>
        
            <!-- Header -->
            <h4>Step 1: Assign To</h4>
            
            <!-- Grid -->
            <div class='grid-wrapper'>
            
                <!-- Users Grid Options -->
                <table style='width: 100%;'>
                    <tr>
                        <td style='vertical-align: top;'>
                        
                            <!-- Grid Filters -->
                            <table>
                                <tr>
                                    <td class='label'>Name</td>
                                    <td class='data'><input type='text' class='filter-text' data-field='Name' /></td>
                                </tr>
                            </table>
                            
                        </td>
                        <td style='vertical-align: bottom;'>
                            
                            <!-- Grid Paging -->
                            <table style='float: right;'>
                                <tr>
                                    <td class='grid-pageinfo'></td>
                                </tr>
                                <tr>
                                    <td style='text-align: right; verticle-align: middle;'>Go to page <select class='grid-page'></select></td>
                                </tr>
                            </table>
                            
                        </td>
                    </tr>
                
                </table>
                
                <!-- Spacer -->
                <div style='height: 15px;'>&nbsp;</div>
    
                <!-- Users Grid -->
                <div id='newevent-select-grid-wrapper' class='loadmask-wrapper'>
                    <table id='newevent-select-grid' class='grid-blue'>
                        <tr>
                            <th>Name</th>
                        </tr>
                    </table>
                </div>
                
                <!-- Spacer -->
                <div style='height: 15px;'>&nbsp;</div>
                
            </div>
            
            <!-- Buttons -->
            <span class='link' style='font-size: 10px; line-height: 22px;' onclick="ClosePopupWindow();">Cancel</span>
            
        </div>
        
        <!-- Step 2: Event Details -->
        <div id='newevent-details-wrapper' class='loadmask-wrapper'>
        
            <!-- Header -->
            <h4>Step 2: Event Details</h4>
            
            <!-- Spacer -->
            <div style='height: 15px;'>&nbsp;</div>
        
            <!-- Details -->
            <table class='grid-blue'>
                <tr>
                    <td>Subject</td>
                    <td><input type='text' id='newevent-details-subject' style='width: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;' /></td>
                </tr>
                <tr>
                    <td>Start</td>
                    <td>
                        <input type='text' id='newevent-details-startdate' class='datepicker' style='-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;' />
                        <select type='text' id='newevent-details-starthour'><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select>
                        <select type='text' id='newevent-details-startminute'><option value="00">00</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option><option value="32">32</option><option value="33">33</option><option value="34">34</option><option value="35">35</option><option value="36">36</option><option value="37">37</option><option value="38">38</option><option value="39">39</option><option value="40">40</option><option value="41">41</option><option value="42">42</option><option value="43">43</option><option value="44">44</option><option value="45">45</option><option value="46">46</option><option value="47">47</option><option value="48">48</option><option value="49">49</option><option value="50">50</option><option value="51">51</option><option value="52">52</option><option value="53">53</option><option value="54">54</option><option value="55">55</option><option value="56">56</option><option value="57">57</option><option value="58">58</option><option value="59">59</option></select>
                        <select type='text' id='newevent-details-startperiod'><option value='AM'>AM</option><option value='PM'>PM</option></select>
                    </td>
                </tr>
                <tr>
                    <td>End</td>
                    <td>
                        <input type='text' id='newevent-details-enddate' class='datepicker' style='-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;' />
                        <select type='text' id='newevent-details-endhour'><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select>
                        <select type='text' id='newevent-details-endminute'><option value="00">00</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option><option value="32">32</option><option value="33">33</option><option value="34">34</option><option value="35">35</option><option value="36">36</option><option value="37">37</option><option value="38">38</option><option value="39">39</option><option value="40">40</option><option value="41">41</option><option value="42">42</option><option value="43">43</option><option value="44">44</option><option value="45">45</option><option value="46">46</option><option value="47">47</option><option value="48">48</option><option value="49">49</option><option value="50">50</option><option value="51">51</option><option value="52">52</option><option value="53">53</option><option value="54">54</option><option value="55">55</option><option value="56">56</option><option value="57">57</option><option value="58">58</option><option value="59">59</option></select>
                        <select type='text' id='newevent-details-endperiod'><option value='AM'>AM</option><option value='PM'>PM</option></select>
                    </td>
                </tr>
                <tr>
                    <td>Description</td>
                    <td><textarea id='newevent-details-description' style='width: 100%; height: 100px; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;'></textarea></td>
                </tr>
            </table>
            
            <!-- Spacer -->
            <div style='height: 15px;'>&nbsp;</div>
            
            <!-- Buttons -->
            <a class="button1-lightgray" onclick="NewEvent_Step1();">Back</a>
            <a class="button1-lightgray" onclick="NewEvent_Finish();">Add &amp; Close</a>
            <span class='link' style='font-size: 10px; line-height: 22px;' onclick="ClosePopupWindow();">Cancel</span>
            
        </div>
        
    </div>

    <!-- Export Window -->
    <div id="ExportPopup" class="popup_block">
        <h2>Export</h2>
        <br />
        <br />
        <a class="button1-blue" href="javascript:ClosePopupWindow();">Close</a>
    </div>
    
    <!-- Loading Popup -->
    <div id="LoadingPopup" class="popup_block">
        <table>
            <tr>
                <td>
                    <img src="{!$Resource.MapLoadingGif}" />
                </td>
                <td style="vertical-align:middle;">
                    <b>Loading...</b>
                </td>
            </tr>
        </table>
    </div>

    <!-- Truck Options -->
    <div id="TruckOptions" class="popup_block">
        <h2>Truck Options</h2>
        
        <table cellpadding="5">
            <tr>
                <td style="vertical-align:top;"><b>Hazardous Goods</b></td>
                <td>
                    <table>
                        <tr>
                            <td><input type="checkbox" name="explosive" value="explosive" />Explosive</td>
                            <td><input type="checkbox" name="gas" value="gas" />Gas</td>
                            <td><input type="checkbox" name="flammable" value="flammable" />Flammable</td>
                            <td><input type="checkbox" name="combustible" value="combustible" />Combustible</td>
                            <td><input type="checkbox" name="organic" value="organic" />Organic</td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" name="poison" value="poison" />Poison</td>
                            <td><input type="checkbox" name="radioActive" value="radioActive" />Radio-Active</td>
                            <td><input type="checkbox" name="corrosive" value="corrosive" />Corrosive</td>
                            <td colspan="2"><input type="checkbox" name="other" value="other" />Other<br /></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <input type="checkbox" name="poisonousInhalation" value="poisonousInhalation" />Poisonous upon Inhalation<br />
                            </td>
                            <td colspan="3">
                                <input type="checkbox" name="harmfulToWater" value="harmfulToWater" />Harmful to Water<br />
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td style="vertical-align:top;"><b>Truck &amp; Trailer</b></td>
                <td>
                    <table cellpadding="3">
                        <tr>
                            <td><b>Height</b></td>
                            <td><input type="text" name="email" size="10" /></td>
                            <td style="color:#909090;">Maximum truck height in meters.</td>
                        </tr>
                        <tr>
                            <td><b>Width</b></td>
                            <td><input type="text" name="width" size="10"/></td>
                            <td style="color:#909090;">Maximum truck width in meters.</td>
                        </tr>
                        <tr>
                            <td><b>Length</b></td>
                            <td><input type="text" name="length" size="10" /></td>
                            <td style="color:#909090;">Maximum truck length in meters.</td>
                        </tr>
                        <tr>
                            <td><b>Trailer Weight</b></td>
                            <td><input type="text" name="trailerWeight" size="10"/></td>
                            <td style="color:#909090;">Maximum trailer weight in tons.</td>
                        </tr>
                    
                    </table>
                </td>
            </tr>
        
        </table>
        
        <a class="button1-blue" href="javascript:ClosePopupWindow();">Save &amp; Close</a>
    </div>

    <!-- Query Editor Window -->
    <div id='queryeditor-modal' style='display: none;'>
        <div class='query-editor-modal-loader'>Loading...</div>
        <div class='query-editor-modal-content'></div>
    </div>

    <!-- Tooltip Template -->
    <div id='tooltip-content-template' style='display: none;'>
    
        <!-- Header -->
        <div class='tooltip-header'>
        
            <!-- Record Name -->
            <div class='name'>
                <a href="/::Id::" target="_blank">::Name::</a>
            </div>
            
            <!-- Record Address -->
            <div class='address'>::Address::</div>
            
        </div>
        
        <!-- Tabs -->
        <div class='tabs' ContentKey="::ContentKey::">
            <ul>
                <li id='tab-info'><a href="#pane-info-::ContentKey::">Info</a></li>
                <li id='tab-actions'><a href="#pane-actions-::ContentKey::">Actions</a></li>
                <li id='tab-chatter' style='display: none;'><a href="#pane-chatter-::ContentKey::">Chatter</a></li>
                <li id='tab-relatedlist' style='display: none;'><a href="#pane-relatedlist-::ContentKey::">Related List</a></li>
            </ul>
            
            <!-- Info Tab -->
            <div id="pane-info-::ContentKey::">
                
                <!-- Tooltips -->
                <div class="tooltips">
                    <table>
                        
                    </table>
                </div>
                
            </div>
            
            <!-- Actions Tab -->
            <div id="pane-actions-::ContentKey::">
                <table style="text-align:center;vertical-align:middle;">
                    <tr>
                        <td style="width:33%;"><a class="button1-white actionbutton" style="width:100px;" id="AddToTrip-::ContentKey::" data-label='Add to Trip'>Add to Trip</a></td>
                        <td style="width:33%;"><a class="button1-white actionbutton" style="width:100px;" id="SetProxCenter-::ContentKey::" data-label='Set Proximity Center'>Set Proximity Center</a></td>
                        <td style="width:33%;"><a class="button1-white actionbutton" style="width:100px;" id="RemoveMarker-::ContentKey::" data-label='Remove Marker'>Remove Marker</a></td>
                    </tr>
                    
                    <tr>
                        <td style="width:33%;"><a class="button1-white actionbutton" style="width:100px;" id="SetVerifiedLocation-::ContentKey::" data-label='Set Verified Location'>Set Verified Location</a></td>
                        <td style="width:33%;"><a class="button1-white actionbutton" style="width:100px;" id="AddToCampaign-::ContentKey::" data-label='Add to Campaign'>Add to Campaign</a></td>
                        <td style="width:33%;"><a class="button1-white actionbutton" style="width:100px;" id="ChangeOwner-::ContentKey::" data-label='Change Owner'>Change Owner</a></td>
                    </tr>
                    
                    <tr class='activitybuttons' style='display: none;'>
                        <td style="width:33%;"><a class="button1-white actionbutton" style="text-decoration:none;width:100px;" target="_blank" href="/_ui/core/email/author/EmailAuthor?::EmailURL::" data-label='Send Email'>Send Email</a></td>                                
                        <td style="width:33%;"><a class="button1-white actionbutton" style="text-decoration:none;width:100px;" target="_blank" href="/apex/MapActions?action=log_call&id=::Id::" data-label='Log a Call'>Log a Call</a></td>
                        <td style="width:33%;"><a class="button1-white actionbutton" style="text-decoration:none;width:100px;" target="_blank" href="/apex/MapActions?action=new_task&id=::Id::" data-label='New Task'>New Task</a></td>
                    </tr>
                    
                    <tr class='activitybuttons' style='display: none;'>
                        <td style="width:33%;"><a class="button1-white actionbutton" style="text-decoration:none;width:100px;" target="_blank" href="/apex/MapActions?action=new_event&id=::Id::" data-label='New Event'>New Event</a></td>
                        <td style="width:33%;"></td>
                        <td style="width:33%;"></td>
                    </tr>
                </table>
            </div>
            
            <!--Chatter Tab -->
            <div id="pane-chatter-::ContentKey::" class='loading'>
            </div>
            
            <!-- Related Lists Tab -->
            <div id="pane-relatedlist-::ContentKey::">
                <div id="ajax-::ContentKey::" style='overflow: auto;'></div>
            </div>
        </div>
    </div>

    <!-- Templates -->
    <div id='templates' style='display: none;'>
    
        <!-- Plotted Query Template -->
        <div class="PlottedRowUnit">
        
            <!-- Load Mask -->
            <div class='loadMask'></div>
           
            <!-- Header -->
            <div class='header'>
            
                <!-- Basic Info -->
                <div class='basicinfo'>
                    <div class='basicinfo-name'>&nbsp;</div>
                    <div class='basicinfo-baseobjectname'>&nbsp;</div>
                </div>
            
                <!-- Rendering Options -->
                <div class='renderButtons'>
                    <div class='renderButtons-button markers' data-renderAs='Markers' title='Render Markers'></div>
                    <div class='renderButtons-button heatmap' data-renderAs='Heatmap' title='Render Heatmap'></div>
                    <div class='renderButtons-button cluster' data-renderAs='Cluster' title='Render Clusters'></div>
                </div>
                
                <!-- Loading Indicator -->
                <div class='loader'></div>
            
                <!-- Remove Button -->
                <div class='btn-remove'></div>
                
            </div>
            
            <!-- Plotting Info -->
            <div class='plottinginfo-wrapper'>
                <div class='status'></div>
                <div class='info'></div>
            </div>
            
            <!-- Legend -->
            <div class='legend-showhide' style='display: none; text-align: center; cursor: pointer; padding: 5px 0;'>--Hide Legend--</div>
            <table class='legend' style='display: none;'></table>
            <div class='legend-moreless' style='display: none; text-align: center; cursor: pointer; padding: 5px 0;'>--Show More--</div>
            
        </div>
        
        <!-- Missing Addresses Template -->
        <div class='missingaddresses template'>
            <div id="::SavedQueryId::_MissingAddresses_Header" class='missingaddresses-wrapper' data-id='::SavedQueryId::'>
            
                <!-- Saved Query Header -->
                <div class='missingaddresses-header'>
                
                    <!-- Name -->
                    ::SavedQueryName::
                    <span class="count">(0)</span>
                    
                    <!-- Toggle -->
                    <a class='toggle' onclick="ToggleMissingAddressContent(this);">Hide</a>
                    
                </div>
                
                <!-- Addresses -->
                <div id="::SavedQueryId::_MissingAddresses_Content" class='missingaddresses-content' style="display: block;">
                    <table cellpadding="3" id="::SavedQueryId::_MissingAddresses_Table" class='missingaddresses-table' style="width:100%;">
                        <tr class='missingaddress' data-id='::RecordId::'>
                            <td><input type='checkbox' class='missingaddress-checkbox' /> <a target="_blank" href="/::RecordId::">::Tooltip1::</a></td>
                            <td>::MarkerAddress::</td>
                            <td style="text-align:right;">Unable to Locate Address</td>
                        </tr>
                    </table>
                </div>
                
            </div>
        </div>
        
        <!-- Grid Templates -->
        <table>
            <tr class='permissions-row'>
                <td class="permission-type" style="text-align:left;"></td>
                <td class="permission-for" style="text-align:left"></td>
                <td class="permission-read"><input type="checkbox" class="autosave" data-field="Read__c" /></td>
                <td class="permission-create"><input type="checkbox" class="autosave" data-field="Create__c" /></td>
                <td class="permission-modify"><input type="checkbox" class="autosave" data-field="Modify__c" /></td>
                <td class="permission-delete"><input type="checkbox" class="autosave" data-field="Delete__c" /></td>
                <td class="permission-setperm"><input type="checkbox" class="autosave" data-field="SetPermissions__c" /></td>
                <td class="permission-delete"><a href="#">Delete</a></td>            
            </tr>
            <tr class='campaign-row'>
                <td><input type='checkbox' class='campaign-checkbox' /></td>
                <td class='campaign-name'></td>
                <td class='campaign-type'></td>
                <td class='campaign-status'></td>
                <td class='campaign-startdate'></td>
                <td class='campaign-enddate'></td>
                <td class='campaign-leads'></td>
                <td class='campaign-contacts'></td>
                <td class='campaign-responses'></td>
            </tr>
            <tr class='campaign-options-row'>
                <td class='campaign-name'></td>
                <td class='campaign-status'><select></select></td>
                <td class='campaign-override'><input type='checkbox' /></td>
            </tr>
            <tr class='changeowner-row'>
                <td class='user-name'></td>
            </tr>
        </table>
        
        <!-- Loader Template -->
        <img class='loader' src="{!URLFOR($Resource.MapAnything, 'images/chatterstatus-loader.gif')}" style="display: none;"/>
        
    </div>

</apex:page>